//Without Recursion

class Solution{
   public String getSandwich(String str) {
     int firstAppearence= str.indexOf("bread");
     int lastAppearence=str.lastIndexOf("bread");
   
     if(firstAppearence==-1 || (firstAppearence==lastAppearence)){
       return "";
     }
   
     return str.substring(firstAppearence+5,lastAppearence);
   }
}


//Using Recursion

//Intuitive Implementation

class Solution{
 public String getSandwich(String str) {
   if(str.length()<5){
     return ""; //no bread found
   }
   
   if(str.startsWith("bread") && str.endsWith("bread")){
     if(str.length()==5){ //only 1 occurence of 'bread', can't form sandwich
       return "";
     }
     return str.substring(5,str.length()-5);
   }
   
   if(!str.startsWith("bread")){
     return getSandwich(str.substring(1));
   }
   
   if(!str.endsWith("bread")){
     return getSandwich(str.substring(0,str.length()-1));
   }
   
   return getSandwich(str.substring(1,str.length()-1));
 }
}


//Optimal Implementation

class Solution{
  public String getSandwich(String str) {
    if(str.length()<5){
      return ""; //no bread found
    }
   
    if(str.startsWith("bread") && str.endsWith("bread")){
       if(str.length()==5){ //only 1 occurence of 'bread', cant form sandwich
         return "";
       }
      return str.substring(5,str.length()-5);
    }
   
    if(!str.startsWith("bread")){
       return getSandwich(str.substring(1));
    }
   
     //might start with "bread" but doesnot end with "bread" or neither starts with "bread" nor ends with "bread"
     return getSandwich(str.substring(0,str.length()-1));
  }
}
