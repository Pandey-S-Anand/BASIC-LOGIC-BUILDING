//Naive Approach

class Solution {
    public String capitalizeTitle(String title) {
      StringBuilder result=new StringBuilder();

      for(String str:title.toLowerCase().split(" ")){
        int n=str.length();
        if(n<=2){
          result.append(str);
        }else{
          result.append(Character.toUpperCase(str.charAt(0)));
          result.append(str.substring(1,n));
        }
        result.append(" ");
      }

      return result.toString().trim();
    }
}

//Optimal Approach

class Solution {
    public String capitalizeTitle(String title) {        
        char[]arr = title.toLowerCase().toCharArray();
        int start=0;

        for( int i = 0 ; i < arr.length ; i++){
            if(arr[i]==' '){
              if((i-start)>2){
                 arr[start]=Character.toUpperCase(arr[start]);    
              } 
              start=i+1;
            }
        }

        if((arr.length-start)>2){
           arr[start]=Character.toUpperCase(arr[start]);    
        } 

      return new String(arr);   
    }
}


//Using Recursion

//Method 1

class Solution {
    public String capitalizeTitle(String title) {
        return capitalizeTitleHelper(title.toLowerCase().toCharArray(), 0);
    }

    private String capitalizeTitleHelper(char[] arr, int index) {
        if (index >= arr.length) {
            return new String(arr);
        }

        int start = index;
        while (index < arr.length && arr[index] != ' ') {
            index++;
        }

        if (index - start > 2) {
            arr[start] = Character.toUpperCase(arr[start]);
        }

        return capitalizeTitleHelper(arr, index + 1);
    }
}


//Method 2

class Solution {
    public String capitalizeTitle(String title) {        
       return capitalizeTitle(title,0);
    }

    public String capitalizeTitle(String str,int index) {        
        if(index==str.length()){
          return "";
        }
        
        int start=index;
        while(index<str.length() && str.charAt(index)!=' '){
           index++;
        }
        
        String word=str.substring(start,index);
        String transformedWord;

        if((index-start)<=2){
            transformedWord=word.toLowerCase();
        }else{
            transformedWord= Character.toUpperCase(word.charAt(0))+ word.substring(1).toLowerCase();
        }   

        if(index==str.length()){
           return transformedWord;
        }else{
           return transformedWord+" "+capitalizeTitle(str,index+1);
        }
    }
}
